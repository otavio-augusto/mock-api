#+title: /Storage/
Nesta pasta se encontram tudo relacionado ao armazenamento para a API.
#+begin_src js :tangle storageDriver.js
import { writeFileSync } from 'fs'
import { promises as fs } from "fs";
import { join } from 'path'
#+end_src

* Armazenar dados
#+begin_src js :tangle storageDriver.js
export async function writeData(filename, content) {
  const currentData = await readData(join(filename))
  currentData.push(content)
  writeFileSync(join("./assets/", filename), JSON.stringify(currentData));
}
#+end_src

* Recuperar dados
#+begin_src js :tangle storageDriver.js
export async function readData(filename) {
  console.log(filename)
  const callback = (error, data) => { error ? console.log(error) : data }
  const rawData = await fs.readFile(join("./assets/", filename), callback)
  return JSON.parse(rawData)
}
#+end_src


* COMMENT Metadados
#+PROPERTY: header-args :noeval
#+OPTIONS:
# local variables:
# ispell-local-dictionary: "pt_BR"
# end:
